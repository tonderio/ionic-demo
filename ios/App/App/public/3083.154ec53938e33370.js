"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3083],{3083:(A,g,s)=>{s.r(g),s.d(g,{Tab3PageModule:()=>w});var l=s(8974),h=s(177),r=s(9417),f=s(1470),t=s(4438),x=s(467),M=s(5276);let k=(()=>{var e;class i{constructor(){this.abortController=new AbortController,this.secretApiKey="49a70935cca8e84fd23f978c526af6e722d7499b",this.apiKey="e0097a032daa0dcf090ce86c2d7c62e0110cde43",this.baseUrl="https://stage.tonder.io",this.returnUrl="http://localhost:8100/tabs/tab3",this.paymentForm=new r.gE({name:new r.MJ("Pedro Paramo"),cardNumber:new r.MJ("4242424242424242"),month:new r.MJ("12"),expirationYear:new r.MJ("28"),cvv:new r.MJ("123")})}onPayment(o){var n=this;return(0,x.A)(function*(){try{const d="john.c.calhoun@examplepetstore.com",u="+584169850705",O="Jhon",F="Calhoun",N=yield n.liteCheckout.getBusiness(),{openpay_keys:p,reference:L,business:y,vault_id:j,vault_url:D}=N;let C;p.merchant_id&&p.public_key&&(C=yield n.liteCheckout.getOpenpayDeviceSessionID(p.merchant_id,p.public_key,!0));const{auth_token:E,id:S}=yield n.liteCheckout.customerRegister(d),G={business:n.apiKey,client:E,billing_address_id:null,shipping_address_id:null,amount:25,status:"A",reference:L,is_oneclick:!0,items:[{description:"Test product description",quantity:1,price_unit:25,discount:1,taxes:12,product_reference:89456123,name:"Test product",amount_total:25}]},b=yield n.liteCheckout.createOrder(G),I=(new Date).toISOString(),z={business_pk:y.pk,amount:25,date:I,order_id:b.id,client_id:S},J=yield n.liteCheckout.createPayment(z),K={card_number:n.paymentForm.value.cardNumber,cvv:n.paymentForm.value.cvv,expiration_month:n.paymentForm.value.month,expiration_year:n.paymentForm.value.expirationYear,cardholder_name:n.paymentForm.value.name},U={card:yield n.liteCheckout.getSkyflowTokens({vault_id:j,vault_url:D,data:K}),name:O,last_name:F,email_client:d,phone_number:u,return_url:n.returnUrl,id_product:"no_id",quantity_product:1,id_ship:"0",instance_id_ship:"0",amount:25,title_ship:"shipping",description:"Test checkout router description",device_session_id:C,token_id:"",order_id:b.id,business_id:y.pk,payment_id:J.pk,source:"ionic-lite-sdk",currency:"MXN",metadata:null},m=yield n.liteCheckout.startCheckoutRouter(U);if(m){var c;console.log("router response: ",m);const v=null==m||null===(c=m.next_action)||void 0===c||null===(c=c.redirect_to_url)||void 0===c?void 0:c.url;v&&(window.location=v)}else console.log("Error al procesar el pago")}catch(d){n.errorMessage=d.message;const u=setTimeout(()=>{n.errorMessage="",clearTimeout(u)},5e3)}})()}ngOnInit(){this.liteCheckout=new M.lA({baseUrlTonder:this.baseUrl,signal:this.abortController.signal,apiKey:this.apiKey}),this.liteCheckout.verify3dsTransaction().then(o=>{console.log("Verify 3ds response",o)})}}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-lite-container"]],inputs:{name:"name",errorMessage:"errorMessage"},decls:29,vars:2,consts:[["id","container"],[3,"formGroup"],[1,"lite-container-tonder"],["id","id-name",1,"empty-div"],["for","name"],["id","name","type","text","formControlName","name"],["id","id-cardNumber",1,"empty-div"],["for","cardNumber"],["id","cardNumber","type","text","formControlName","cardNumber"],[1,"collect-row"],[1,"empty-div"],["for","month"],["id","month","type","text","formControlName","month"],[1,"expiration-year"],["for","expirationYear"],["id","expirationYear","type","text","formControlName","expirationYear"],["for","cvv"],["id","cvv","type","text","formControlName","cvv"],["id","msgError"],["id","msgNotification"],[1,"lite-pay-button",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t.EFF(5,"Name: "),t.k0s(),t.nrm(6,"input",5),t.k0s(),t.j41(7,"div",6)(8,"label",7),t.EFF(9,"Card number: "),t.k0s(),t.nrm(10,"input",8),t.k0s(),t.j41(11,"div",9)(12,"div",10)(13,"label",11),t.EFF(14,"Month: "),t.k0s(),t.nrm(15,"input",12),t.k0s(),t.j41(16,"div",13)(17,"label",14),t.EFF(18,"Year: "),t.k0s(),t.nrm(19,"input",15),t.k0s(),t.j41(20,"div",10)(21,"label",16),t.EFF(22,"CVV: "),t.k0s(),t.nrm(23,"input",17),t.k0s()(),t.j41(24,"div",18),t.EFF(25),t.k0s(),t.nrm(26,"div",19),t.j41(27,"button",20),t.bIt("click",function(d){return n.onPayment(d)}),t.EFF(28,"Pay"),t.k0s()()()()),2&o&&(t.R7$(),t.Y8G("formGroup",n.paymentForm),t.R7$(24),t.JRh(n.errorMessage))},dependencies:[r.qT,r.me,r.BC,r.cb,r.j4,r.JD],styles:['#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.lite-container-tonder[_ngcontent-%COMP%]{margin:0 auto!important;padding:30px 10px;overflow:hidden;transition:max-height .5s ease-out;max-width:600px;border:solid 1px #e3e3e3;max-height:100vh}.collect-row[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;width:100%!important}.collect-row[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{min-width:120px!important}.expiration-year[_ngcontent-%COMP%]{padding-top:2px!important}.expiration-year[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.empty-div[_ngcontent-%COMP%]{height:80px!important;margin-top:2px;margin-bottom:4px;margin-left:10px!important;margin-right:10px!important;text-align:left!important}.empty-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.error-container[_ngcontent-%COMP%]{color:red!important;background-color:#ffdbdb!important;margin-bottom:13px!important;font-size:80%!important;padding:8px 10px!important;border-radius:10px!important;text-align:left!important}.lite-pay-button[_ngcontent-%COMP%]{font-size:16px;font-weight:700;min-height:2.3rem;border-radius:.5rem;cursor:pointer;width:100%;padding:1rem;text-align:center;border:none;background-color:#fff;color:#000;margin-bottom:10px}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:14px;height:14px;border-radius:50%;border:6px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media screen and (max-width: 600px){.payment_method_zplit[_ngcontent-%COMP%]{font-size:16px!important;width:100%!important}.payment_method_zplit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none!important}}']}),i})();const _=[{path:"",component:(()=>{var e;class i{constructor(){}}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-tab3"]],decls:10,vars:2,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["name","Tonder Lite SDK"]],template:function(o,n){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3," Tonder Lite SDK "),t.k0s()()(),t.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),t.EFF(8,"Tonder Lite SDK"),t.k0s()()(),t.nrm(9,"app-lite-container",4),t.k0s()),2&o&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0))},dependencies:[l.W9,l.eU,l.BC,l.ai,k]}),i})()}];let P=(()=>{var e;class i{}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[f.iI.forChild(_),f.iI]}),i})(),T=(()=>{var e;class i{}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[h.MD,r.X1,l.bv]}),i})(),w=(()=>{var e;class i{}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[l.bv,h.MD,r.YN,T,P]}),i})()}}]);