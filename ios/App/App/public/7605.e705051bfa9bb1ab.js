"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7605],{7605:(M,d,c)=>{c.r(d),c.d(d,{Tab1PageModule:()=>P});var s=c(8974),m=c(177),p=c(9417),e=c(4438);let C=(()=>{var t;class o{}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[m.MD,p.X1,s.bv]}),o})();var h=c(1470),f=c(2479),g=c(4517);function v(t,o){if(1&t){const r=e.RV6();e.j41(0,"button",8),e.bIt("click",function(a){e.eBV(r);const l=e.XpG();return e.Njj(l.onPayment(a))}),e.EFF(1,"Pay"),e.k0s()}}function k(t,o){if(1&t){const r=e.RV6();e.j41(0,"div",9),e.bIt("click",function(a){e.eBV(r);const l=e.XpG();return e.Njj(l.onLayerClick(a))}),e.EFF(1,"Este layout se muestra al ejecutar el callback de \xe9xito"),e.k0s()}}let x=(()=>{var t;class o{constructor(n){this.platform=n,this.externalButton=!1,this.customerData=null,this.secureToken=null,this.showLayer=!1}onPayment(n){this.inlineCheckout.payment(this.customerData)}initCheckout(n){fetch("https://stage.tonder.io/api/secure-token/",{method:"POST",headers:{Authorization:"Token 49a70935cca8e84fd23f978c526af6e722d7499b","Content-Type":"application/json"}}).then(a=>{a.json().then(l=>{var u;null===(u=this.inlineCheckout)||void 0===u||u.removeCheckout(),this.inlineCheckout=new f.Q({mode:"stage",apiKey:"e0097a032daa0dcf090ce86c2d7c62e0110cde43",returnUrl:"http://localhost:8100/tabs/tab2",renderPaymentButton:!n,callBack:i=>{this.showLayer=!0},isOpenPaySandbox:!0,customization:{saveCards:{showSaveCardOption:!0,showSaved:!0},paymentButton:{show:!0,text:"Depositar",showAmount:!0},redirectOnComplete:!1},events:{cardHolderEvents:{onChange:i=>{},onFocus:i=>{},onBlur:i=>{}},cvvEvents:{onChange:i=>{console.log("Cvv change event",i)},onFocus:i=>{console.log("Cvv focus event",i)},onBlur:i=>{console.log("Cvv blur event",i)}}}}),this.inlineCheckout.configureCheckout({...this.customerData,secureToken:null==l?void 0:l.access}),this.inlineCheckout.injectCheckout(),this.inlineCheckout.verify3dsTransaction().then(i=>{console.log("Verify 3ds response",i)})})})}onLayerClick(n){var a;this.showLayer=!1,null===(a=this.inlineCheckout)||void 0===a||a.removeCheckout(),this.initCheckout()}onExternalSelectorClick(n){this.externalButton=n.target.checked,this.initCheckout(n.target.checked)}ngOnInit(){this.customerData={customer:{firstName:"Pedro",lastName:"Perez",country:"Finlandia",street:"The street",city:"The city",state:"The state",postCode:"98746",email:"sergioh81@gmail.com",phone:"+58 4169855522"},cart:{total:120,items:[{description:"Test product description",quantity:1,price_unit:120,discount:25,taxes:12,product_reference:12,name:"Test product",amount_total:120}]},currency:"MXN"},this.initCheckout()}ngOnDestroy(){var n;null===(n=this.inlineCheckout)||void 0===n||n.removeCheckout()}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(g.OD))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-explore-container"]],inputs:{name:"name"},decls:9,vars:2,consts:[["id","container"],["id","payment-form"],["id","tonder-checkout"],["class","external-payment-button",3,"click",4,"ngIf"],["id","container-external-selector",1,"empty-div"],["for","external-selector"],["id","external-selector","type","checkbox",3,"change"],["class","no-redirect-on-complete",3,"click",4,"ngIf"],[1,"external-payment-button",3,"click"],[1,"no-redirect-on-complete",3,"click"]],template:function(n,a){1&n&&(e.j41(0,"div",0)(1,"form",1),e.nrm(2,"div",2),e.k0s(),e.DNE(3,v,2,0,"button",3),e.j41(4,"div",4)(5,"label",5),e.EFF(6,"External button: "),e.k0s(),e.j41(7,"input",6),e.bIt("change",function(u){return a.onExternalSelectorClick(u)}),e.k0s()(),e.DNE(8,k,2,0,"div",7),e.k0s()),2&n&&(e.R7$(3),e.Y8G("ngIf",a.externalButton),e.R7$(5),e.Y8G("ngIf",a.showLayer))},dependencies:[m.bT,p.qT,p.cb],styles:["#container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:space-between;justify-content:center}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.external-payment-button[_ngcontent-%COMP%]{font-size:16px;font-weight:700;min-height:2.3rem;border-radius:.5rem;cursor:pointer;width:80%;padding:1rem;text-align:center;border:none;background-color:1;color:#000;margin-bottom:20px;margin-top:20px}.no-redirect-on-complete[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;align-items:center;background-color:#fff;color:#000}.tds-iframe[_ngcontent-%COMP%]{border:none!important;width:100vw!important;height:100vh!important;z-index:30!important;background-color:#fff!important}"]}),o})();const y=[{path:"",component:(()=>{var t;class o{constructor(){}}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-tab1"]],decls:10,vars:2,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["name","Payment form"]],template:function(n,a){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3," Payment form "),e.k0s()()(),e.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e.EFF(8,"Payment form"),e.k0s()()(),e.nrm(9,"app-explore-container",4),e.k0s()),2&n&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0))},dependencies:[s.W9,s.eU,s.BC,s.ai,x]}),o})()}];let b=(()=>{var t;class o{}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[h.iI.forChild(y),h.iI]}),o})(),P=(()=>{var t;class o{}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[s.bv,m.MD,p.YN,C,b]}),o})()}}]);