"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2352],{2352:(T,u,c)=>{c.r(u),c.d(u,{Tab5PageModule:()=>P});var s=c(8974),d=c(177),r=c(9417),g=c(1470),t=c(4438),h=c(467),f=c(5276);function b(e,a){1&e&&(t.j41(0,"div",14)(1,"div",15)(2,"label",16),t.EFF(3,"Namess: "),t.k0s(),t.nrm(4,"input",17),t.k0s(),t.j41(5,"div",18)(6,"label",19),t.EFF(7,"Card number: "),t.k0s(),t.nrm(8,"input",20),t.k0s(),t.j41(9,"div",21)(10,"div",22)(11,"label",23),t.EFF(12,"Month: "),t.k0s(),t.nrm(13,"input",24),t.k0s(),t.j41(14,"div",25)(15,"label",26),t.EFF(16,"Year: "),t.k0s(),t.nrm(17,"input",27),t.k0s(),t.j41(18,"div",22)(19,"label",28),t.EFF(20,"CVV: "),t.k0s(),t.nrm(21,"input",29),t.k0s()()())}function C(e,a){if(1&e){const i=t.RV6();t.j41(0,"div",30)(1,"input",31),t.bIt("change",function(){const o=t.eBV(i).$implicit,l=t.XpG();return t.Njj(l.selectAPM(o))}),t.k0s(),t.j41(2,"label",32)(3,"div",33),t.nrm(4,"div",34)(5,"img",35),t.k0s(),t.j41(6,"div",36),t.EFF(7),t.k0s()()()}if(2&e){const i=a.$implicit;t.R7$(),t.FS9("id",i.id),t.R7$(),t.FS9("for",i.id),t.R7$(3),t.FS9("alt",i.label),t.Y8G("src",i.icon,t.B4B),t.R7$(2),t.JRh(i.label)}}let x=(()=>{var e;class a{constructor(){this.abortController=new AbortController,this.secretApiKey="49a70935cca8e84fd23f978c526af6e722d7499b",this.apiKey="e0097a032daa0dcf090ce86c2d7c62e0110cde43",this.baseUrl="https://stage.tonder.io",this.returnUrl="http://localhost:8100/tabs/tab5",this.selectedAPM=null,this.activeAPMs=[],this.paymentForm=new r.gE({name:new r.MJ("Pedro Paramo"),cardNumber:new r.MJ("4242424242424242"),month:new r.MJ("12"),expirationYear:new r.MJ("28"),cvv:new r.MJ("123")})}onPayment(n){var o=this;return(0,h.A)(function*(){try{var l;let p={customer:{name:"Jhon",lastname:"Doe",email:"john.c.calhoun@examplepetstore.com",phone:"+58452258525"},order:{items:[{description:"Test product description",quantity:1,price_unit:25,discount:1,taxes:12,product_reference:89456123,name:"Test product",amount_total:25}]},return_url:o.returnUrl,total:25,isSandbox:!0,metadata:null,currency:"MXN",skyflowTokens:{cardholder_name:"",card_number:"",expiration_year:"",expiration_month:"",cvv:"",skyflow_id:""},payment_method:null===(l=o.selectedAPM)||void 0===l?void 0:l.payment_method};if(!o.selectedAPM){const k=yield o.liteCheckout.getBusiness(),{vault_id:_,vault_url:F}=k,w={card_number:o.paymentForm.value.cardNumber,cvv:o.paymentForm.value.cvv,expiration_month:o.paymentForm.value.month,expiration_year:o.paymentForm.value.expirationYear,cardholder_name:o.paymentForm.value.name},O=yield o.liteCheckout.getSkyflowTokens({vault_id:_,vault_url:F,data:w});p.skyflowTokens=O}const m=yield o.liteCheckout.startCheckoutRouterFull(p);m?(console.log("router response: ",m),window.location.href=o.returnUrl):console.log("Error al procesar el pago")}catch(p){o.errorMessage=p.message;const m=setTimeout(()=>{o.errorMessage="",clearTimeout(m)},5e3)}})()}selectAPM(n=null){this.selectedAPM=n,console.log("Selected APM:",this.selectedAPM)}ngOnInit(){var n=this;return(0,h.A)(function*(){n.liteCheckout=new f.lA({baseUrlTonder:n.baseUrl,signal:n.abortController.signal,apiKey:n.apiKey}),n.liteCheckout.verify3dsTransaction().then(o=>{console.log("Verify 3ds response",o)}),n.activeAPMs=yield n.liteCheckout.getActiveAPMs()})()}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-fullcheckout-container"]],inputs:{name:"name",errorMessage:"errorMessage"},decls:18,vars:4,consts:[["id","container"],[3,"formGroup"],[1,"lite-container-tonder"],[1,"pay-new-card"],["checked","","id","new","name","item-selected","type","radio",1,"item-selected",3,"change"],["for","new",1,"card-item-label-new"],["src","assets/cards/card.png",1,"card-image"],["class","card-container",4,"ngIf"],[1,"apms-list-container"],["class","apm-item",4,"ngFor","ngForOf"],["id","msgError"],["id","msgNotification"],[1,"container-pay-button"],[1,"lite-pay-button",3,"click"],[1,"card-container"],["id","id-name",1,"empty-div"],["for","name"],["id","name","type","text","formControlName","name"],["id","id-cardNumber",1,"empty-div"],["for","cardNumber"],["id","cardNumber","type","text","formControlName","cardNumber"],[1,"collect-row"],[1,"empty-div"],["for","month"],["id","month","type","text","formControlName","month"],[1,"expiration-year"],["for","expirationYear"],["id","expirationYear","type","text","formControlName","expirationYear"],["for","cvv"],["id","cvv","type","text","formControlName","cvv"],[1,"apm-item"],["type","radio","name","item-selected",1,"item-selected",3,"change","id"],[1,"apm-item-label",3,"for"],[1,"apm-image"],[1,"apm-image-border"],[3,"src","alt"],[1,"apm-name"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"input",4),t.bIt("change",function(){return o.selectAPM()}),t.k0s(),t.j41(5,"label",5),t.nrm(6,"img",6),t.j41(7,"div"),t.EFF(8,"Pagar con tarjeta"),t.k0s()()(),t.DNE(9,b,22,0,"div",7),t.j41(10,"div",8),t.DNE(11,C,8,5,"div",9),t.k0s(),t.j41(12,"div",10),t.EFF(13),t.k0s(),t.nrm(14,"div",11),t.j41(15,"div",12)(16,"button",13),t.bIt("click",function(p){return o.onPayment(p)}),t.EFF(17,"Pay"),t.k0s()()()()()),2&n&&(t.R7$(),t.Y8G("formGroup",o.paymentForm),t.R7$(8),t.Y8G("ngIf",!o.selectedAPM),t.R7$(2),t.Y8G("ngForOf",o.activeAPMs),t.R7$(2),t.JRh(o.errorMessage))},dependencies:[d.Sq,d.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD],styles:['#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.lite-container-tonder[_ngcontent-%COMP%]{margin:0 auto!important;padding:30px 0;overflow:hidden;transition:max-height .5s ease-out;max-width:600px;border:solid 1px #e3e3e3;max-height:100vh}.collect-row[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;width:100%!important}.collect-row[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{min-width:120px!important}.expiration-year[_ngcontent-%COMP%]{padding-top:2px!important}.expiration-year[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.empty-div[_ngcontent-%COMP%]{height:80px!important;margin-top:2px;margin-bottom:4px;margin-left:10px!important;margin-right:10px!important;text-align:left!important}.empty-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.error-container[_ngcontent-%COMP%]{color:red!important;background-color:#ffdbdb!important;margin-bottom:13px!important;font-size:80%!important;padding:8px 10px!important;border-radius:10px!important;text-align:left!important}.lite-pay-button[_ngcontent-%COMP%]{font-size:16px;font-weight:700;min-height:2.3rem;border-radius:.5rem;cursor:pointer;width:100%;padding:1rem;text-align:center;border:none;background-color:#fff;color:#000}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:14px;height:14px;border-radius:50%;border:6px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media screen and (max-width: 600px){.payment_method_zplit[_ngcontent-%COMP%]{font-size:16px!important;width:100%!important}.payment_method_zplit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none!important}}.apms-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:33% 20px;max-height:300px;overflow-y:auto}.apm-item-label[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:33% 10px;margin-top:15px;margin-bottom:15px;width:100%}.apm-item[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:start;align-items:center;gap:33% 15px;border-bottom:1px solid #e2e8f0;padding:0 30px}.apm-item[_ngcontent-%COMP%]:first-child{border-top:1px solid #e2e8f0}.apm-item[_ngcontent-%COMP%]   .apm-name[_ngcontent-%COMP%]{font-size:16px}.apm-image[_ngcontent-%COMP%]{width:30px;height:30px;position:relative;display:flex;justify-content:center;align-items:center}.apm-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:30px}.apm-image-border[_ngcontent-%COMP%]{position:absolute;border:1px solid rgba(186,186,186,.2117647059);border-radius:4px;pointer-events:none;box-sizing:border-box;width:100%;height:97%}.item-selected[_ngcontent-%COMP%]{position:relative;width:16px;min-width:16px;height:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;border-radius:100%;border:1px #bababa solid;color:#3bc635;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.item-selected[_ngcontent-%COMP%]:before{width:8px;height:8px;content:"";position:absolute;top:50%;left:50%;display:block;transform:translate(-50%,-50%);border-radius:100%;background-color:#3bc635;opacity:0;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.item-selected[_ngcontent-%COMP%]:checked{border:1px #3bc635 solid;position:relative;width:16px;height:16px;min-width:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;border-radius:100%;color:#3bc635;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.item-selected[_ngcontent-%COMP%]:checked:before{content:"";border:1px #3bc635 solid;width:8px;height:8px;position:absolute;top:50%;left:50%;display:block;transform:translate(-50%,-50%);border-radius:100%;background-color:#3bc635;opacity:50;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.item-selected[_ngcontent-%COMP%]:hover:before{width:8px;height:8px;content:"";position:absolute;top:50%;left:50%;display:block;transform:translate(-50%,-50%);border-radius:100%;background-color:#3bc635;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;opacity:10}.container-pay-button[_ngcontent-%COMP%]{padding:10px}.card-container[_ngcontent-%COMP%]{padding:0 20px}.pay-new-card[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;gap:33% 15px;margin-top:10px;margin-bottom:10px;padding:0 30px;width:100%;position:relative}.card-image[_ngcontent-%COMP%]{width:39px;height:24px;text-align:left}.card-item-label-new[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;gap:33% 20px;margin-top:10px;margin-bottom:10px;width:100%}']}),a})();const y=[{path:"",component:(()=>{var e;class a{constructor(){}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-tab5"]],decls:10,vars:2,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["name","FullCheckout"]],template:function(n,o){1&n&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3," Full Checkout "),t.k0s()()(),t.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),t.EFF(8,"Full Checkout"),t.k0s()()(),t.nrm(9,"app-fullcheckout-container",4),t.k0s()),2&n&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0))},dependencies:[s.W9,s.eU,s.BC,s.ai,x]}),a})()}];let v=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[g.iI.forChild(y),g.iI]}),a})(),M=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[d.MD,r.X1,s.bv]}),a})(),P=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[s.bv,d.MD,r.YN,M,v]}),a})()}}]);